<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>予約</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="reservation.css">
</head>

<body class="reservation-page">
    <div class="reservation-pattern" aria-hidden="true">
        <span class="reservation-bubble bubble-a"></span>
        <span class="reservation-bubble bubble-b"></span>
        <span class="reservation-bubble bubble-c"></span>
    </div>

    <div class="header">
        <h1 class="title">PTSI - 保育園予約システム</h1>
        <div class="header-actions">
            <button class="chat-btn" onclick="goToChat()">💬 チャット</button>
            <button class="logout-btn" onclick="logout()">ログアウト</button>
        </div>
    </div>

    <section class="page-intro">
        <h2>申請は3つのステップで完了します</h2>
        <p>ご希望の日付と申請内容を選んで送信するだけ。申請履歴は自動で保存されます。</p>
    </section>

    <div class="main-container">
        <!-- 学生情報サイドバー -->
        <div class="student-sidebar">
            <div class="student-card">
                <h3 class="student-title">学生情報</h3>
                <div class="student-details">
                    <div class="student-name" id="student-name">読み込み中...</div>
                    <div class="student-class" id="student-class">クラス: -</div>
                    <div class="student-id" id="student-id-display">学籍番号: -</div>
                </div>
                <div class="student-meta">
                    <span class="status-pill">本日の状況</span>
                    <p class="student-tip">変更がある場合は早めの申請にご協力ください。</p>
                </div>
            </div>
        </div>

        <!-- メインフォーム -->
        <div class="form-container">
            <form id="myForm" class="reservation-form">
                <div class="form-section">
                    <h2 class="section-title">📅 予約申請フォーム</h2>

                    <ol class="form-steps">
                        <li class="step-item">
                            <span class="step-number">1</span>
                            <span class="step-text">希望日を選択</span>
                        </li>
                        <li class="step-item">
                            <span class="step-number">2</span>
                            <span class="step-text">申請内容を選択</span>
                        </li>
                        <li class="step-item">
                            <span class="step-number">3</span>
                            <span class="step-text">内容を確認して送信</span>
                        </li>
                    </ol>
                    
                    <div class="form-group">
                        <label for="date" class="form-label">１：申し込む日付を選択してください</label>
                        <input type="date" name="date" id="date" class="form-input">
                    </div>

                    <div class="form-group">
                        <p class="form-label">２：申し込む形態を選択してください</p>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input name="radio" class="radio-input" type="radio" value="type1">
                                <span class="radio-text">🕐 遅刻申請</span>
                                <span class="radio-desc">登園時間が遅れる場合</span>
                            </label>
                            <label class="radio-option">
                                <input name="radio" class="radio-input" type="radio" value="type2">
                                <span class="radio-text">🏠 早退申請</span>
                                <span class="radio-desc">通常より早く帰宅する場合</span>
                            </label>
                            <label class="radio-option">
                                <input name="radio" class="radio-input" type="radio" value="type3">
                                <span class="radio-text">🎒 預かり保育予約</span>
                                <span class="radio-desc">通常の保育時間後の預かり</span>
                            </label>
                            <label class="radio-option">
                                <input name="radio" class="radio-input" type="radio" value="type4">
                                <span class="radio-text">⏰ 延長保育予約</span>
                                <span class="radio-desc">さらに延長した保育時間</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <p class="form-label">３：詳細情報（自動表示）</p>
                        <div class="details-box" id="white-box">
                            <p class="details-placeholder">上記で選択した形態の詳細がここに表示されます</p>
                        </div>
                    </div>

                    <div class="form-guide">
                        <div class="guide-item">
                            <span class="guide-icon">💡</span>
                            <p>申請後はチャットで担当の先生にも通知されます。変更があればチャットからご連絡ください。</p>
                        </div>
                        <div class="guide-item">
                            <span class="guide-icon">⏰</span>
                            <p>当日申請は午前8時までが締め切りです。締め切り後はお電話で直接ご連絡ください。</p>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="submit-btn" onclick="sendData()">
                            <span class="btn-icon">📋</span>
                            申し込みを確定する
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <output id="result" class="submit-result" aria-live="polite"></output>
        
</body>
<script src="reservation.js"></script>

</html>